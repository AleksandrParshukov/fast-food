{"version":3,"file":"script.min.js","sources":["script.js"],"sourcesContent":["$('document').ready(function () {\r\n\tlet place = 0;\r\n\tconst $leaders_list = $('#leaders_list');\r\n\r\n\tconst $leaders_item = $(\r\n\t\t'<li class=\"leaders__item d-flex\">' +\r\n\t\t\t'<p class=\"leaders__place\"></p>' +\r\n\t\t\t'<p class=\"leaders__name\"></p>' +\r\n\t\t\t'<p class=\"leaders__scores\"></p>' +\r\n\t\t\t'</li>'\r\n\t);\r\n\r\n\tconst $participants_item = $(\r\n\t\t'<li class=\"participants__item d-flex\">' +\r\n\t\t\t'<p class=\"participants__place\"></p>' +\r\n\t\t\t'<p class=\"participants__name\"></p>' +\r\n\t\t\t'<p class=\"participants__scores\"></p>' +\r\n\t\t\t'</li>'\r\n\t);\r\n\r\n\t$.ajax({\r\n\t\turl: 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSdP3ccei1KvSVk2faTVTEmJgRXd7V6KaU0-Wa3qiV1SsqqGcnBuu7A0H_JBIcU9K6sgQ8rZP_yDoG_/pub?output=csv',\r\n\t\tdataType: 'text',\r\n\t\tcache: false,\r\n\t\tsuccess: function (data) {\r\n\t\t\tvar items = $.csv.toObjects(data);\r\n\r\n\t\t\tconsole.log(items);\r\n\r\n\t\t\titems.sort(function (x, y) {\r\n\t\t\t\treturn to_float(y['ИТОГ']) - to_float(x['ИТОГ']);\r\n\t\t\t});\r\n\r\n\t\t\tlet prev_points = 0;\r\n\r\n\t\t\t$.each(items, function (i, val) {\r\n\t\t\t\tif (prev_points != val['ИТОГ']) {\r\n\t\t\t\t\tprev_points = val['ИТОГ'];\r\n\t\t\t\t\tplace++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (i < 3) {\r\n\t\t\t\t\tadd_leaders_item(val);\r\n\t\t\t\t} else if (i < 9) {\r\n\t\t\t\t\tadd_participants_item(val, '1');\r\n\t\t\t\t} else if (i < 16) {\r\n\t\t\t\t\tadd_participants_item(val, '2');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tadd_participants_item(val, '3');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t});\r\n\r\n\tfunction add_leaders_item(data) {\r\n\t\tlet $new_item = $leaders_item.clone();\r\n\r\n\t\t$new_item.find('.leaders__place').text(place);\r\n\t\t$new_item.find('.leaders__name').text(data['Название команды']);\r\n\t\t$new_item.find('.leaders__scores').text(data['ИТОГ']);\r\n\r\n\t\t$leaders_list.append($new_item);\r\n\t}\r\n\r\n\tfunction add_participants_item(data, num) {\r\n\t\tconst $participants_list = $('#participants_list' + num),\r\n\t\t\t$new_item = $participants_item.clone();\r\n\r\n\t\t$new_item.find('.participants__place').text(place);\r\n\t\t$new_item.find('.participants__name').text(data['Название команды']);\r\n\t\t$new_item.find('.participants__scores').text(data['ИТОГ']);\r\n\r\n\t\t$participants_list.append($new_item);\r\n\t}\r\n\r\n\tfunction to_float(num) {\r\n\t\treturn parseFloat(num.replace(/,/, '.'));\r\n\t}\r\n\r\n\t$(document).on('keydown', function (evt) {\r\n\t\tif (evt.keyCode == 39) {\r\n\t\t\t$('.slide').toggleClass('active');\r\n\t\t}\r\n\t});\r\n});\r\n"],"names":["$","ready","let","place","$leaders_list","$leaders_item","$participants_item","add_participants_item","data","num","$participants_list","$new_item","clone","find","text","append","to_float","parseFloat","replace","ajax","url","dataType","cache","success","items","csv","toObjects","console","log","sort","x","y","prev_points","each","i","val","add_leaders_item","document","on","evt","keyCode","toggleClass"],"mappings":"AAAAA,EAAE,YAAYC,MAAM,WACnBC,IAAIC,EAAQ,EACZ,MAAMC,EAAgBJ,EAAE,iBAElBK,EAAgBL,EACrB,oIAOKM,EAAqBN,EAC1B,wJAmDD,SAASO,EAAsBC,EAAMC,GACpC,MAAMC,EAAqBV,EAAE,qBAAuBS,GACnDE,EAAYL,EAAmBM,QAEhCD,EAAUE,KAAK,wBAAwBC,KAAKX,GAC5CQ,EAAUE,KAAK,uBAAuBC,KAAKN,EAAK,qBAChDG,EAAUE,KAAK,yBAAyBC,KAAKN,EAAK,SAElDE,EAAmBK,OAAOJ,GAG3B,SAASK,EAASP,GACjB,OAAOQ,WAAWR,EAAIS,QAAQ,IAAK,MAxDpClB,EAAEmB,KAAK,CACNC,IAAK,iJACLC,SAAU,OACVC,OAAO,EACPC,QAAS,SAAUf,GACdgB,EAAQxB,EAAEyB,IAAIC,UAAUlB,GAE5BmB,QAAQC,IAAIJ,GAEZA,EAAMK,KAAK,SAAUC,EAAGC,GACvB,OAAOf,EAASe,EAAE,SAAWf,EAASc,EAAE,WAGzC5B,IAAI8B,EAAc,EAElBhC,EAAEiC,KAAKT,EAAO,SAAUU,EAAGC,GACtBH,GAAeG,EAAI,UACtBH,EAAcG,EAAI,QAClBhC,KAGG+B,EAAI,EAaX,SAA0B1B,GACzBN,IAAIS,EAAYN,EAAcO,QAE9BD,EAAUE,KAAK,mBAAmBC,KAAKX,GACvCQ,EAAUE,KAAK,kBAAkBC,KAAKN,EAAK,qBAC3CG,EAAUE,KAAK,oBAAoBC,KAAKN,EAAK,SAE7CJ,EAAcW,OAAOJ,GAnBlByB,CAAiBD,GAEjB5B,EAAsB4B,EADZD,EAAI,EACa,IACjBA,EAAI,GACa,IAEA,UA+B/BlC,EAAEqC,UAAUC,GAAG,UAAW,SAAUC,GAChB,IAAfA,EAAIC,SACPxC,EAAE,UAAUyC,YAAY"}